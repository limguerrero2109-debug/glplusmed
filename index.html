<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GL PLUS MED | Tienda Oficial GLP-1</title>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;700&display=swap" rel="stylesheet">
    <style>
        :root { --purpura: #4a148c; --cian: #00e5ff; --blanco: #ffffff; --gris: #f4f4f4; --frio: #e1f5fe; --azul-frio: #0288d1; --whatsapp: #25d366; }
        body { font-family: 'Montserrat', sans-serif; margin: 0; background: var(--gris); color: #333; line-height: 1.6; }
        header { background: var(--blanco); padding: 15px 5%; display: flex; justify-content: space-between; align-items: center; box-shadow: 0 2px 10px rgba(0,0,0,0.1); position: sticky; top: 0; z-index: 1000; }
        .logo-text { font-size: 1.2rem; font-weight: 700; color: var(--purpura); }
        .hero { background: linear-gradient(135deg, var(--purpura), #000); padding: 60px 5%; text-align: center; color: white; }
        .tasa-tag { display: inline-block; background: rgba(0,229,255,0.2); color: var(--cian); padding: 8px 20px; border-radius: 20px; margin-top: 15px; font-size: 0.9rem; font-weight: 700; border: 1px solid var(--cian); }
        .container { padding: 40px 5%; max-width: 1200px; margin: 0 auto; }
        .about-box { background: white; padding: 40px; border-radius: 30px; box-shadow: 0 10px 30px rgba(0,0,0,0.05); text-align: center; margin-bottom: 50px; }
        .grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 30px; }
        .card { background: white; border-radius: 25px; padding: 30px; text-align: center; box-shadow: 0 10px 20px rgba(0,0,0,0.05); position: relative; }
        .cold-chain-bar { background: var(--frio); color: var(--azul-frio); font-size: 0.75rem; font-weight: 800; padding: 8px; margin: -30px -30px 25px -30px; border-radius: 25px 25px 0 0; }
        .price-usd { font-size: 2.2rem; color: var(--purpura); font-weight: 700; margin: 10px 0; }
        .btn-add { background: var(--purpura); color: white; border: none; padding: 18px; border-radius: 50px; cursor: pointer; font-weight: 700; width: 100%; margin-top: 15px; }
        .btn-consult { background: #666; color: white; border: none; padding: 18px; border-radius: 50px; cursor: pointer; font-weight: 700; width: 100%; margin-top: 15px; text-decoration: none; display: block; }
        .test-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px; margin-top: 50px; }
        .test-card { background: white; padding: 25px; border-radius: 20px; border-left: 5px solid var(--cian); box-shadow: 0 5px 15px rgba(0,0,0,0.03); }
        .whatsapp-float { position: fixed; width: 65px; height: 65px; bottom: 30px; right: 30px; background-color: var(--whatsapp); color: white; border-radius: 50px; text-align: center; box-shadow: 2px 5px 15px rgba(0,0,0,0.3); z-index: 9999; display: flex; align-items: center; justify-content: center; text-decoration: none; font-size: 30px; }
        #cart-sidebar { position: fixed; right: -100%; top: 0; width: 100%; max-width: 450px; height: 100%; background: white; z-index: 10000; padding: 40px; transition: 0.5s; display: flex; flex-direction: column; box-shadow: -10px 0 30px rgba(0,0,0,0.2); }
        #cart-sidebar.active { right: 0; }
        #data-modal { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.8); z-index: 11000; justify-content: center; align-items: center; }
        .modal-content { background: white; padding: 35px; border-radius: 30px; width: 90%; max-width: 400px; }
        input, select { width: 100%; padding: 15px; margin: 10px 0; border: 1px solid #ddd; border-radius: 15px; font-family: 'Montserrat'; box-sizing: border-box; }
    </style>
</head>
<body>

<header>
    <div class="logo-text">GL PLUS MED</div>
    <button onclick="toggleCart()" style="background:var(--purpura); color:white; border:none; padding:10px 20px; border-radius:50px; font-weight:700; cursor:pointer;">CARRITO (<span id="cart-count">0</span>)</button>
</header>

<section class="hero">
    <h1>GL PLUS MED VENEZUELA</h1>
    <div class="tasa-tag">TASA BINANCE: <span id="tasa-val">...</span> Bs/USD</div>
</section>

<div class="container">
    <div class="about-box">
        <h2 style="color:var(--purpura)">쯈ui칠nes Somos?</h2>
        <p>Especialistas en la distribuci칩n de tratamientos de 칰ltima generaci칩n para el control metab칩lico en Venezuela. Nos diferenciamos por nuestro <b>riguroso manejo de la cadena de fr칤o</b> y productos 100% originales en Caracas y Anzo치tegui.</p>
    </div>

    <div class="grid">
        <div class="card">
            <div class="cold-chain-bar">仇勇 REFRIGERACI칍N GARANTIZADA</div>
            <h3>Ozempic 0.25 / 0.50 MG</h3>
            <p class="price-usd">$200</p>
            <p id="oz1-ves" style="color:#888; font-weight:600;"></p>
            <button class="btn-add" onclick="addToCart('Ozempic 0.25/0.50 MG', 200)">A침adir al Carrito</button>
        </div>
        <div class="card">
            <div class="cold-chain-bar">仇勇 REFRIGERACI칍N GARANTIZADA</div>
            <h3>Ozempic 1 MG</h3>
            <p class="price-usd">$300</p>
            <p id="oz2-ves" style="color:#888; font-weight:600;"></p>
            <button class="btn-add" onclick="addToCart('Ozempic 1 MG', 300)">A침adir al Carrito</button>
        </div>
        <div class="card">
            <div class="cold-chain-bar">仇勇 REFRIGERACI칍N GARANTIZADA</div>
            <h3>Mounjaro 5 MG</h3>
            <p class="price-usd">$200</p>
            <p id="mj-ves" style="color:#888; font-weight:600;"></p>
            <button class="btn-consult" onclick="window.open('https://wa.me/584123020704?text=Hola, consulto disponibilidad de Mounjaro 5mg ($200)', '_blank')">CONSULTAR DISPONIBILIDAD</button>
        </div>
    </div>

    <div class="test-grid">
        <div class="test-card"><p>"Lleg칩 perfecto a Caracas, bien fr칤o."</p><b>Mar칤a G.</b></div>
        <div class="test-card"><p>"Muy responsables en Lecher칤a."</p><b>Ricardo M.</b></div>
        <div class="test-card"><p>"Atenci칩n r치pida y producto original."</p><b>Carlos P.</b></div>
    </div>
</div>

<a href="https://wa.me/584123020704" class="whatsapp-float" target="_blank">游님</a>

<div id="cart-sidebar">
    <h2 style="color:var(--purpura)">Tu Pedido</h2>
    <div id="cart-content" style="flex-grow:1; overflow-y:auto;"></div>
    <div style="border-top:2px solid #eee; padding-top:20px;">
        <div style="display:flex; justify-content:space-between; font-weight:700; font-size:1.2rem;"><span>Total USD:</span> <span id="total-usd">$0</span></div>
        <div id="total-ves" style="text-align:right; color:#888;">Bs. 0,00</div>
    </div>
    <button class="btn-add" onclick="openModal()" style="background:var(--whatsapp); margin-top:20px;">CONTINUAR</button>
    <button onclick="toggleCart()" style="background:none; border:none; color:#999; margin-top:10px; cursor:pointer;">Cerrar</button>
</div>

<div id="data-modal">
    <div class="modal-content">
        <h3 style="color:var(--purpura); margin-top:0;">Requisitos del Pedido</h3>
        <input type="text" id="nombre" placeholder="Nombre y Apellido">
        <label style="font-size:0.7rem; color:#666;">Fecha de Nacimiento:</label>
        <input type="date" id="fecha">
        <input type="number" id="edad" placeholder="Edad">
        <input type="text" id="ciudad" placeholder="Ciudad o Estado">
        <button class="btn-add" onclick="enviar()" style="background:var(--whatsapp);">PEDIR POR WHATSAPP</button>
        <button onclick="closeModal()" style="background:none; border:none; width:100%; color:#999; margin-top:10px; cursor:pointer;">Cancelar</button>
    </div>
</div>

<script>
    const SHEET_URL = 'https://docs.google.com/spreadsheets/d/1lOAT9C3cWS3UijTn-J8RVagZD6UdlZEQLWHgShE9nBc/gviz/tq?tqx=out:csv&range=Hoja 1!B1';
    let tasa = 460;
    let cart = [];
    let total = 0;

    async function getTasa() {
        try {
            const r = await fetch(SHEET_URL);
            const t = await r.text();
            const v = parseFloat(t.replace(/"/g, '').replace(',', '.').trim());
            if(!isNaN(v)) tasa = v;
        } catch(e) {}
        document.getElementById('tasa-val').innerText = tasa.toFixed(2);
        document.getElementById('oz1-ves').innerText = `Bs. ${(200 * tasa).toLocaleString('es-VE')}`;
        document.getElementById('oz2-ves').innerText = `Bs. ${(300 * tasa).toLocaleString('es-VE')}`;
        document.getElementById('mj-ves').innerText = `Bs. ${(200 * tasa).toLocaleString('es-VE')}`;
    }

    function toggleCart() { document.getElementById('cart-sidebar').classList.toggle('active'); }
    function addToCart(n, p) { cart.push({n, p}); total += p; update(); toggleCart(); }
    function update() {
        document.getElementById('cart-count').innerText = cart.length;
        document.getElementById('total-usd').innerText = `$${total}`;
        document.getElementById('total-ves').innerText = `Bs. ${(total * tasa).toLocaleString('es-VE')}`;
        document.getElementById('cart-content').innerHTML = cart.map((i, idx) => `<div style="display:flex; justify-content:space-between; padding:10px 0; border-bottom:1px solid #eee;"><span>${i.n}</span> <span onclick="removeItem(${idx}, ${i.p})" style="color:red; cursor:pointer;">X</span></div>`).join('');
    }
    function removeItem(idx, p) { cart.splice(idx, 1); total -= p; update(); }
    function openModal() { if(cart.length > 0) document.getElementById('data-modal').style.display = 'flex'; }
    function closeModal() { document.getElementById('data-modal').style.display = 'none'; }
    function enviar() {
        const n = document.getElementById('nombre').value;
        const f = document.getElementById('fecha').value;
        const e = document.getElementById('edad').value;
        const c = document.getElementById('ciudad').value;
        if(!n || !f || !e || !c) return alert("Por favor, complete todos los requisitos.");
        const num = c.toLowerCase().includes("caracas") ? "584123300431" : "584123020704";
        const productos = cart.map(i => `- ${i.n}`).join('%0A');
        const msg = `*NUEVO PEDIDO*%0A*Nombre:* ${n}%0A*Fecha Nac:* ${f}%0A*Edad:* ${e}%0A*Ciudad:* ${c}%0A*Pedido:*%0A${productos}%0A*Total:* $${total}`;
        window.open(`https://wa.me/${num}?text=${msg}`, '_blank');
    }
    getTasa();
</script>
</body>
</html>
